@import 'tailwindcss';

/* Force light mode */
@custom-variant dark (&:is(.dark *));

@theme {
  /* Olive palette from Oatmeal (keeping for gradual phase-out) */
  --color-olive-50: oklch(98.8% 0.003 106.5);
  --color-olive-100: oklch(96.6% 0.005 106.5);
  --color-olive-200: oklch(93% 0.007 106.5);
  --color-olive-300: oklch(88% 0.011 106.6);
  --color-olive-400: oklch(73.7% 0.021 106.9);
  --color-olive-500: oklch(58% 0.031 107.3);
  --color-olive-600: oklch(46.6% 0.025 107.3);
  --color-olive-700: oklch(39.4% 0.023 107.4);
  --color-olive-800: oklch(28.6% 0.016 107.4);
  --color-olive-900: oklch(22.8% 0.013 107.4);
  --color-olive-950: oklch(15.3% 0.006 107.1);

  /* Adapty purple palette (#6720FF) */
  --color-adapty-50:  oklch(97% 0.02 285);
  --color-adapty-100: oklch(94% 0.04 285);
  --color-adapty-200: oklch(88% 0.08 285);
  --color-adapty-300: oklch(78% 0.12 285);
  --color-adapty-400: oklch(65% 0.18 285);
  --color-adapty-500: oklch(52% 0.22 285);
  --color-adapty-600: oklch(45% 0.20 285);
  --color-adapty-700: oklch(38% 0.18 285);
  --color-adapty-800: oklch(30% 0.14 285);
  --color-adapty-900: oklch(22% 0.10 285);
  --color-adapty-950: oklch(15% 0.06 285);

  /* Typography - using Inter for both display and body */
  --font-display: 'Inter', system-ui, sans-serif;
  --font-sans: 'Inter', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;

  /* Animation easings */
  --ease-spring: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

  /* Animation durations */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 400ms;

  /* Animation keyframes */
  --animate-fade-in: fade-in 0.6s var(--ease-spring) forwards;
  --animate-fade-in-up: fade-in-up 0.6s var(--ease-spring) forwards;
  --animate-fade-in-blur: fade-in-blur 0.8s var(--ease-spring) forwards;
  --animate-scale-in: scale-in 0.5s var(--ease-spring) forwards;
  --animate-shimmer: shimmer 2s linear infinite;
  --animate-border-beam: border-beam 4s linear infinite;
  --animate-marquee: marquee 40s linear infinite;
  --animate-marquee-slow: marquee 60s linear infinite;
  --animate-marquee-vertical: marquee-vertical 40s linear infinite;
  --animate-pulse-soft: pulse-soft 3s ease-in-out infinite;
  --animate-sonar: sonar 2s ease-out infinite;
  --animate-number-tick: number-tick 0.5s var(--ease-out-expo) forwards;

  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in-blur {
    from {
      opacity: 0;
      filter: blur(10px);
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      filter: blur(0);
      transform: translateY(0);
    }
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  @keyframes border-beam {
    0% {
      offset-distance: 0%;
    }
    100% {
      offset-distance: 100%;
    }
  }

  @keyframes marquee {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }

  @keyframes marquee-vertical {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(-50%);
    }
  }

  @keyframes pulse-soft {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  @keyframes sonar {
    0% {
      transform: scale(0.8);
      opacity: 0.8;
    }
    100% {
      transform: scale(2.5);
      opacity: 0;
    }
  }

  @keyframes number-tick {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes scramble {
    0% { content: attr(data-char); }
    10% { content: 'X'; }
    20% { content: '#'; }
    30% { content: '@'; }
    40% { content: '%'; }
    50% { content: '&'; }
    60% { content: '*'; }
    70% { content: '!'; }
    80% { content: '?'; }
    90% { content: '$'; }
    100% { content: attr(data-char); }
  }

  @keyframes text-reveal {
    from {
      opacity: 0;
      filter: blur(8px);
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      filter: blur(0);
      transform: translateY(0);
    }
  }
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-olive-100);
    --scroll-padding-top: 5.25rem;
    scroll-padding-top: var(--scroll-padding-top);
    scroll-behavior: smooth;
  }

  body {
    font-family: var(--font-sans);
    color: var(--color-olive-950);
  }

  ::selection {
    background-color: var(--color-olive-300);
    color: var(--color-olive-950);
  }

  /* Smooth page transitions */
  * {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }
}

@layer components {
  /* Noise texture for wallpaper backgrounds */
  .noise-overlay {
    position: absolute;
    inset: 0;
    opacity: 0.3;
    mix-blend-mode: overlay;
    background-position: center;
    pointer-events: none;
    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='250' height='250' viewBox='0 0 100 100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='turbulence' baseFrequency='1.4' numOctaves='1' seed='2' stitchTiles='stitch' result='n'/%3E%3CfeComponentTransfer result='g'%3E%3CfeFuncR type='linear' slope='4' intercept='1'/%3E%3CfeFuncG type='linear' slope='4' intercept='1'/%3E%3CfeFuncB type='linear' slope='4' intercept='1'/%3E%3C/feComponentTransfer%3E%3CfeColorMatrix type='saturate' values='0' in='g'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  }

  /* Shimmer effect for buttons */
  .shimmer {
    position: relative;
    overflow: hidden;
  }

  .shimmer::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.2) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
    pointer-events: none;
  }

  /* Spotlight card effect */
  .spotlight-card {
    position: relative;
    overflow: hidden;
  }

  .spotlight-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      400px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
      rgba(156, 168, 143, 0.15),
      transparent 40%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }

  .spotlight-card:hover::before {
    opacity: 1;
  }

  /* Border beam effect */
  .border-beam {
    position: relative;
    overflow: hidden;
  }

  .border-beam::before {
    content: '';
    position: absolute;
    inset: 0;
    background: conic-gradient(
      from 0deg,
      transparent 0%,
      var(--color-olive-500) 10%,
      transparent 20%
    );
    animation: border-beam 4s linear infinite;
    offset-path: border-box;
  }

  /* Magnetic button wrapper */
  .magnetic-button {
    display: inline-block;
    transition: transform 0.15s ease-out;
  }

  /* Tactile button press */
  .tactile-button {
    transition: transform 0.1s ease-out, box-shadow 0.15s ease-out;
  }

  .tactile-button:hover {
    transform: translateY(-2px);
  }

  .tactile-button:active {
    transform: scale(0.98) translateY(0);
  }

  /* Glass panel */
  .glass-panel {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(16px);
    border: 1px solid rgba(255, 255, 255, 0.5);
  }

  /* Text gradient */
  .text-gradient {
    background: linear-gradient(
      135deg,
      var(--color-olive-950) 0%,
      var(--color-olive-600) 100%
    );
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Marquee container */
  .marquee-container {
    overflow: hidden;
    mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
    -webkit-mask-image: linear-gradient(
      to right,
      transparent 0%,
      black 10%,
      black 90%,
      transparent 100%
    );
  }

  /* Scroll animation triggers */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
  }

  .animate-on-scroll.is-visible {
    animation: fade-in-up 0.6s var(--ease-spring) forwards;
  }
}

@layer utilities {
  /* Stagger delays for children */
  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 50ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 150ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 200ms; }
  .stagger-children > *:nth-child(6) { animation-delay: 250ms; }
  .stagger-children > *:nth-child(7) { animation-delay: 300ms; }
  .stagger-children > *:nth-child(8) { animation-delay: 350ms; }
  .stagger-children > *:nth-child(9) { animation-delay: 400ms; }
  .stagger-children > *:nth-child(10) { animation-delay: 450ms; }

  /* Animation delays */
  .delay-0 { animation-delay: 0ms; }
  .delay-75 { animation-delay: 75ms; }
  .delay-100 { animation-delay: 100ms; }
  .delay-150 { animation-delay: 150ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-400 { animation-delay: 400ms; }
  .delay-500 { animation-delay: 500ms; }
  .delay-600 { animation-delay: 600ms; }
  .delay-700 { animation-delay: 700ms; }
  .delay-800 { animation-delay: 800ms; }

  /* Hide scrollbar */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  .mask-image-gradient-b {
    mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
  }
}
