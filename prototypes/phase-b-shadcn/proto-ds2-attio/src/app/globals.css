/**
 * DS2 Attio - Light Editorial Theme
 *
 * Key characteristics:
 * - Light LAB color space (perceptually uniform)
 * - 4-font system with serif accents
 * - Schematic line connectors
 * - Small border radii (6-12px)
 * - Fast 150ms animations
 * - Editorial sophistication
 */

@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ============================================
 * TAILWIND THEME INTEGRATION
 * ============================================ */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter);
  --font-serif: var(--font-tiempos);
  --font-mono: var(--font-jetbrains);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

/* ============================================
 * DS2 ATTIO DESIGN TOKENS
 * ============================================ */
:root {
  /* Base Radius - DS2 uses smaller radii */
  --radius: 0.5rem; /* 8px base */

  /* ============================================
   * COLORS - Primary (BLACK buttons like Attio CTA)
   * Blue is accent only - for links, interactive elements
   * ============================================ */
  --color-primary-500: #000000;
  --color-primary-600: #1a1a1a;
  --color-primary-hover: #1a1a1a;
  --color-primary-active: #333333;
  --color-primary-light: #EEF4FF;
  --color-accent: #4682F0;
  --color-accent-hover: #3366cc;
  --color-accent-light: rgba(70, 130, 240, 0.1);

  /* ============================================
   * COLORS - Backgrounds (Light theme - Phase A exact)
   * ============================================ */
  --bg-primary: #ffffff;
  --bg-secondary: #FAFBFC;
  --bg-tertiary: #F0F2F5;
  --bg-muted: #E8EAED;
  --bg-elevated: #ffffff;
  --bg-overlay: rgba(0, 0, 0, 0.5);

  /* ============================================
   * COLORS - Text (Phase A exact values)
   * ============================================ */
  --text-primary: #131316;
  --text-secondary: #42434D;
  --text-tertiary: #5A6578;
  --text-muted: #8795A8;
  --text-inverse: #ffffff;

  /* ============================================
   * COLORS - Borders (Phase A exact values)
   * ============================================ */
  --border-default: #D8DCE3;
  --border-subtle: #E8EBEF;
  --border-strong: #A3ADB8;

  /* ============================================
   * COLORS - Semantic (Phase A exact values)
   * ============================================ */
  --color-success: #22A861;
  --color-warning: #E5A20C;
  --color-error: #E53E3E;
  --color-info: #4682F0;

  /* ============================================
   * SHADCN TOKENS
   * ============================================ */
  --background: #ffffff;
  --foreground: #131316;
  --card: #ffffff;
  --card-foreground: #131316;
  --popover: #ffffff;
  --popover-foreground: #131316;
  --primary: #000000;
  --primary-foreground: #ffffff;
  --secondary: #f0f2f5;
  --secondary-foreground: #42434d;
  --muted: #f0f2f5;
  --muted-foreground: #5a6578;
  --accent: #f0f2f5;
  --accent-foreground: #42434d;
  --destructive: #e53e3e;
  --border: #e8ebef;
  --input: #e8ebef;
  --ring: #000000;
  --chart-1: #4682f0;
  --chart-2: #10b981;
  --chart-3: #f59e0b;
  --chart-4: #8b5cf6;
  --chart-5: #ec4899;
  --sidebar: #fafbfc;
  --sidebar-foreground: #000000;
  --sidebar-primary: #4682f0;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #f0f2f5;
  --sidebar-accent-foreground: #374151;
  --sidebar-border: #e5e7eb;
  --sidebar-ring: #4682f0;

  /* ============================================
   * TYPOGRAPHY - 4-Font System (Phase A exact)
   * ============================================ */
  --font-sans: "Inter", -apple-system, sans-serif;
  --font-display: "Inter Display", var(--font-sans);
  --font-serif: "Tiempos Headline", "Playfair Display", Georgia, serif;
  --font-mono: "JetBrains Mono", ui-monospace, monospace;

  /* ============================================
   * TYPOGRAPHY - Phase A Refinements
   * ============================================ */
  --letter-spacing-headline: -0.025em;
  --letter-spacing-tight: -0.02em;
  --letter-spacing-body: -0.01em;
  --font-weight-body: 500;
  --font-weight-headline: 600;
  --font-size-h1: 68px;
  --section-number-tracking: 0.2em;

  /* ============================================
   * SPACING
   * ============================================ */
  --section-padding: 4rem;
  --container-max-width: 1120px;
  --container-padding: 48px;

  /* ============================================
   * COMPONENT TOKENS
   * ============================================ */
  --card-radius: 12px;
  --button-radius: 6px;
  --input-radius: 6px;

  /* ============================================
   * SHADOWS - Phase A Dual-Layer Cinematic System
   * Ambient (diffuse) + Elevation (directional)
   * ============================================ */
  --shadow-ambient-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-elevation-sm: 0 2px 4px rgba(0, 0, 0, 0.06);
  --shadow-sm: var(--shadow-ambient-sm), var(--shadow-elevation-sm);

  --shadow-ambient-md: 0 2px 4px rgba(0, 0, 0, 0.06);
  --shadow-elevation-md: 0 4px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: var(--shadow-ambient-md), var(--shadow-elevation-md);

  --shadow-ambient-lg: 0 4px 8px rgba(0, 0, 0, 0.08);
  --shadow-elevation-lg: 0 8px 16px rgba(0, 0, 0, 0.12);
  --shadow-lg: var(--shadow-ambient-lg), var(--shadow-elevation-lg);

  --shadow-ambient-xl: 0 8px 16px rgba(0, 0, 0, 0.1);
  --shadow-elevation-xl: 0 16px 32px rgba(0, 0, 0, 0.12);
  --shadow-xl: var(--shadow-ambient-xl), var(--shadow-elevation-xl);

  --shadow-glow: 0 0 20px rgba(70, 130, 240, 0.15);
  --shadow-card: var(--shadow-sm);
  --shadow-card-hover: var(--shadow-lg);

  /* ============================================
   * ANIMATIONS - Fast 150ms baseline
   * ============================================ */
  --duration-instant: 0ms;
  --duration-fast: 150ms;
  --duration-normal: 200ms;
  --duration-slow: 300ms;

  --ease-default: cubic-bezier(0.2, 0, 0, 1);
  --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.1);

  /* ============================================
   * PHASE A SIGNATURE: Dot Grid Background
   * ============================================ */
  --bg-pattern-dot-grid: radial-gradient(circle, rgba(0, 0, 0, 0.15) 1px, transparent 1px);
  --bg-pattern-dot-size: 24px 24px;

  /* ============================================
   * PHASE A SIGNATURE: Schematic Line System
   * Ultra-subtle technical diagram aesthetic
   * ============================================ */
  --schematic-line-color: rgba(0, 0, 0, 0.08);
  --schematic-line-width: 1px;
  --schematic-line-accent: var(--color-accent);
  --schematic-line-dash: 2px 6px;
  --schematic-line-opacity: 0.5;

  /* Connection Nodes (Junction Points) */
  --node-size: 6px;
  --node-border: 1px;
  --node-color: rgba(0, 0, 0, 0.15);
  --node-fill: var(--bg-primary);

  /* Edge Accent Line */
  --edge-line-color: var(--color-accent);
  --edge-line-width: 2px;
  --edge-line-opacity: 0.08;

  /* ============================================
   * PHASE A SIGNATURE: Serif Emphasis & Quotes
   * ============================================ */
  --serif-emphasis-weight: 600;
  --quote-watermark-size: 12rem;
  --quote-watermark-opacity: 0.06;
  --quote-watermark-color: var(--text-muted);

  /* Section Dotted Separators */
  --section-separator-color: var(--border-default);
  --section-separator-dash: 4px;
  --section-separator-gap: 8px;
}

/* ============================================
 * BASE STYLES
 * ============================================ */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  /* DS2 ATTIO: Dot grid background on body */
  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
    font-weight: var(--font-weight-body);
    font-feature-settings: "cv01", "ss03";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-image: var(--bg-pattern-dot-grid);
    background-size: var(--bg-pattern-dot-size);
    background-position: 0 0;
    background-attachment: fixed;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: var(--font-weight-headline);
    letter-spacing: var(--letter-spacing-headline);
  }

  /* DS2 ATTIO: Viewport Frame - subtle vertical borders */
  html::before,
  html::after {
    content: "";
    position: fixed;
    top: 0;
    bottom: 0;
    width: 1px;
    background: linear-gradient(to bottom,
        transparent 0%,
        var(--border-subtle) 5%,
        var(--border-subtle) 95%,
        transparent 100%);
    pointer-events: none;
    z-index: 9999;
  }

  html::before {
    left: 24px;
  }

  html::after {
    right: 24px;
  }

  /* DS2 ATTIO: Ultra-thin dotted separator between sections */
  section + section::before {
    content: "";
    display: block;
    width: 100%;
    height: 1px;
    margin-bottom: 2rem;
    background: repeating-linear-gradient(to right,
        var(--border-subtle) 0px,
        var(--border-subtle) 2px,
        transparent 2px,
        transparent 8px);
    opacity: 0.4;
  }

  /* Make sections transparent so dot grid shows through */
  section {
    background-color: transparent !important;
  }
}

/* ============================================
 * DS2 UTILITY CLASSES
 * ============================================ */
@layer utilities {
  /* Heading with tight tracking */
  .heading-attio {
    font-family: var(--font-display);
    font-weight: 600;
    letter-spacing: var(--letter-spacing-tight);
    line-height: 1.1;
  }

  /* Serif accent for editorial feel */
  .serif-accent {
    font-family: var(--font-serif);
    font-style: italic;
  }

  /* Ghost button style - signature Attio */
  .btn-ghost {
    background: transparent;
    border: 1px solid var(--border-default);
    color: var(--text-secondary);
    transition: all var(--duration-fast) var(--ease-default);
  }

  .btn-ghost:hover {
    border-color: var(--border-strong);
    color: var(--text-primary);
  }

  /* Card with DS2 styling */
  .card-attio {
    background: var(--bg-elevated);
    border: 1px solid var(--border-subtle);
    border-radius: var(--card-radius);
    box-shadow: var(--shadow-card);
    transition: all var(--duration-fast) var(--ease-default);
  }

  .card-attio:hover {
    box-shadow: var(--shadow-card-hover);
    border-color: var(--border-default);
  }

  /* Blue accent gradient text (for links, interactive elements) */
  .text-gradient-accent {
    background: linear-gradient(135deg, var(--color-accent), var(--color-accent-hover));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Blue link color */
  .text-accent {
    color: var(--color-accent);
  }

  .text-accent:hover {
    color: var(--color-accent-hover);
  }

  /* Section numbering - editorial style */
  .section-number {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--text-muted);
    letter-spacing: 0.05em;
  }

  /* Schematic line - dotted connector */
  .schematic-line {
    background-image: repeating-linear-gradient(
      to bottom,
      var(--border-default) 0,
      var(--border-default) 2px,
      transparent 2px,
      transparent 6px
    );
  }

  .schematic-line-horizontal {
    background-image: repeating-linear-gradient(
      to right,
      var(--border-default) 0,
      var(--border-default) 2px,
      transparent 2px,
      transparent 6px
    );
  }

  /* Connection node - small circle */
  .connection-node {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    border: 1.5px solid var(--color-accent);
    background: var(--bg-primary);
  }

  .connection-node-filled {
    background: var(--color-accent);
  }

  /* Tab bar - full width bordered container */
  .tab-bar-attio {
    display: flex;
    border: 1px solid var(--border-subtle);
    border-radius: var(--button-radius);
    overflow: hidden;
  }

  .tab-bar-attio > * {
    flex: 1;
    border-right: 1px solid var(--border-subtle);
  }

  .tab-bar-attio > *:last-child {
    border-right: none;
  }

  /* Status indicators */
  .status-active {
    background: var(--color-primary-500);
    color: white;
  }

  .status-success {
    background: var(--color-success);
    color: white;
  }

  .status-pending {
    background: var(--bg-tertiary);
    color: var(--text-muted);
  }

  /* DS2 ATTIO: Serif text for emotional emphasis */
  .text-serif {
    font-family: var(--font-serif);
    font-weight: var(--serif-emphasis-weight);
  }

  /* DS2 ATTIO: Quote watermark */
  .quote-watermark {
    position: absolute;
    font-size: var(--quote-watermark-size);
    opacity: var(--quote-watermark-opacity);
    color: var(--quote-watermark-color);
    font-family: var(--font-serif);
    font-weight: 700;
    line-height: 1;
    pointer-events: none;
    user-select: none;
  }

  /* DS2 ATTIO: Connector lines */
  .connector-line {
    position: absolute;
    background: var(--border-subtle);
  }

  .connector-line-v {
    width: 1px;
    height: 100%;
  }

  .connector-line-h {
    height: 1px;
    width: 100%;
  }

  /* DS2 ATTIO: Dotted separator line */
  .dotted-separator {
    background-image: linear-gradient(to right,
        var(--section-separator-color) var(--section-separator-dash),
        transparent var(--section-separator-dash));
    background-size: calc(var(--section-separator-dash) + var(--section-separator-gap)) 1px;
    background-repeat: repeat-x;
    height: 1px;
  }

  /* DS2 ATTIO: Headline typography */
  .headline-attio {
    letter-spacing: var(--letter-spacing-headline);
    font-weight: var(--font-weight-headline);
  }

  /* DS2 ATTIO: Body typography */
  .body-attio {
    font-weight: var(--font-weight-body);
  }

  /* DS2 ATTIO: Cinematic shadow card */
  .card-cinematic {
    box-shadow: var(--shadow-lg);
    transition: box-shadow var(--duration-normal) var(--ease-default);
  }

  .card-cinematic:hover {
    box-shadow: var(--shadow-xl);
  }

  /* DS2 ATTIO: Dot grid background utility */
  .bg-dot-grid {
    background-image: var(--bg-pattern-dot-grid);
    background-size: var(--bg-pattern-dot-size);
  }
}

/* ============================================
 * DS2 ATTIO: Performance Optimizations
 * ============================================ */
.card,
.button,
section {
  contain: layout style;
}

.animate-element {
  will-change: transform;
  transform: translateZ(0);
}

.hover-element {
  will-change: transform;
  backface-visibility: hidden;
}

.fade-element {
  will-change: opacity;
}

.animate-complete {
  will-change: auto;
}

/* ============================================
 * ANIMATION KEYFRAMES
 * ============================================ */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.animate-fade-in {
  animation: fade-in var(--duration-normal) var(--ease-default);
}

.animate-slide-up {
  animation: slide-up var(--duration-normal) var(--ease-default);
}

.animate-pulse-soft {
  animation: pulse-soft 2s var(--ease-default) infinite;
}

/* DS2 ATTIO: Gradient reveal animation for quotes */
@keyframes gradient-reveal {
  from {
    background-position: 100% 0;
  }
  to {
    background-position: 0 0;
  }
}

.animate-gradient-reveal {
  background: linear-gradient(90deg, var(--text-primary) 50%, var(--text-muted) 50%);
  background-size: 200% 100%;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient-reveal 1s ease forwards;
}

/* DS2 ATTIO: Marquee animation */
@keyframes marquee {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

.animate-marquee {
  animation: marquee 30s linear infinite;
}
